if("object"!=typeof Thunbolt)var Thunbolt={};if("object"!=typeof Thunbolt.Helpers){var _tmp=function($){return{hasMethod:function(obj,method){return"function"==typeof obj[method]},isObject:function(obj){return"object"==typeof obj},isCallable:function(callback){return"function"==typeof callback},isUndefined:function(v){return"undefined"==typeof v},printError:function(msg){console.error("WebChemistry: "+msg)},hasProperty:function(obj,name){return!!this.isObject(obj)&&name in obj},parseJSON:function(str){return $.parseJSON(str)},merge:function(){var args=arguments;return Array.prototype.unshift.call(args,!0),$.extend.apply(this,args)}}}(jQuery);Thunbolt.Helpers=_tmp}var _tmp=function($){var helpers=Thunbolt.Helpers;return helpers.isUndefined($)?void helpers.printError("jQuery missing."):helpers.isUndefined(Nette)?void helpers.printError("Nette forms missing."):helpers.hasMethod(Nette,"showFormErrors")?{renderers:{},defaultRenderer:"bootstrap",isInitialized:!1,renderer:null,init:function(renderer){if(!this.isInitialized){if(this.isInitialized=!0,renderer=renderer||this.defaultRenderer,!renderer in this.renderers)return void helpers.printError('Renderer "'+renderer+'" not exists.');this.renderer=renderer=this.renderers[renderer],Nette.showFormErrors=function(form,errors){renderer.render(form,errors)}}},addListenerOnChange:function(){var form,i,j,self=this;Nette.addEvent(document,"DOMContentLoaded",function(){for(i=0;i<document.forms.length;i++)for(form=document.forms[i],j=0;j<form.elements.length;j++)if(form.elements[j].getAttribute("data-nette-rules")){self.initOnChangeForm(form);break}})},initOnChangeForm:function(form){var i,element,self=this;for(i=0;i<form.elements.length;i++)element=form.elements[i],element.addEventListener("change",function(e){Nette.formErrors=[],!Nette.validateControl(this)&&Nette.formErrors.length?(self.renderer.renderControl(this,Nette.formErrors[Nette.formErrors.length-1].message),e&&e.stopPropagation?(e.stopPropagation(),e.preventDefault()):window.event&&(event.cancelBubble=!0,event.returnValue=!1)):self.renderer.removeControlError(this),Nette.formErrors=[]})},addRenderer:function(name,renderer){return helpers.isObject(renderer)?helpers.hasMethod(renderer,"render")?helpers.hasMethod(renderer,"removeControlError")?helpers.hasMethod(renderer,"renderControl")?void(this.renderers[name]=renderer):void helpers.printError('Renderer "'+name+'" must have method renderControl.'):void helpers.printError('Renderer "'+name+'" must have method removeControlError.'):void helpers.printError('Renderer "'+name+'" must have method render.'):void helpers.printError('Renderer "'+name+'" must be an object.')}}:void helpers.printError("Install newer version of nette forms.")}(jQuery);Thunbolt.FormErrors=_tmp,function($){var helpers=Thunbolt.Helpers,ctrl={render:function(form,errors){var focus,self=this,form=$(form);this.removeErrors(form),$.each(errors,function(i,val){self.renderControl(val.element,val.message),!focus&&val.focus&&(focus=val)}),focus&&focus.focus()},renderControl:function(el,message){el=$(el);var target,attr=el.attr("data-errors-target");target=helpers.isUndefined(attr)||!attr?this.createTarget(el):$(attr),target.text(message),el.closest(".form-group").addClass("has-error")},createTarget:function(el){var target=$(document.createElement("span")).addClass("help-block").attr("data-has-error-rendered","true");return el.after(target),target},removeControlError:function(ctrl){ctrl=$(ctrl);var target=ctrl.attr("data-errors-target");helpers.isUndefined(target)||!target?ctrl.next().remove():$(target).text(""),ctrl.closest(".form-group.has-error").removeClass("has-error")},removeErrors:function(form){form.find("[data-has-error-rendered]").remove(),form.find(".form-group.has-error").removeClass("has-error")}};Thunbolt.FormErrors.addRenderer("bootstrap",ctrl)}(jQuery);